@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model <<Rectangle>>{
    Class "<<interface>>\nReadOnlyAddressBook" as ReadOnlyAddressBook
    Class "<<interface>>\nDisplayItem" as DisplayItem
    Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
    Class "<<interface>>\nAttribute" as Attribute
    Class "<<interface>>\nModel" as Model
    Class "{{abstract}}\nDisplayItemList" as DisplayItemList<? extend DisplayItem>
    Class "{{abstract}}\nAbstractContainerItem" as AbstractContainerItem
    Class "{{abstract}}\nAbstractDisplayItem" as AbstractDisplayItem
    Class "{{abstract}}\nAbstractAttribute" as AbstractAttribute
    

    Class AddressBook
    Class ModelManager
    Class UserPrefs

    Class UniquePersonList
    Class UniqueTaskList
    Class UniqueGroupList

    Class Person
    Class Task
    Class Group
    Class Address
    Class Email
    Class Name
    Class Phone
    Class Tag
    Class Title
    Class Description
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up.|> ReadOnlyAddressBook

DisplayItem ..> Attribute

Task --|> AbstractDisplayItem
Person --|> AbstractDisplayItem
Group --|> AbstractContainerItem

AbstractDisplayItem ..|> DisplayItem
AbstractDisplayItem --> "0..*" Attribute
AbstractDisplayItem --> "0..1" DisplayItem
AbstractContainerItem --|> AbstractDisplayItem

AbstractAttribute .left.|> Attribute

Name --|> AbstractAttribute
Address --|> AbstractAttribute
Email --|> AbstractAttribute
Phone --|> AbstractAttribute
Tag --|> AbstractAttribute
Title --|> AbstractAttribute
Description --|> AbstractAttribute

AbstractDisplayItem *--> "1" Name
Task *--> "1" Title
Task *--> "1" Description

DisplayItemList *--> "*" DisplayItem

UniqueGroupList --|> DisplayItemList
UniqueTaskList --|> DisplayItemList
UniquePersonList --|> DisplayItemList

DisplayItemList -[hidden]right-> Person

ModelManager .up.|> Model
ModelManager -right-> "1" AddressBook
Model ..> ReadOnlyUserPrefs
Model ..> ReadOnlyAddressBook
ModelManager -left-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

AddressBook *--> "1" UniquePersonList
AddressBook *--> "1" UniqueTaskList
AddressBook *--> "1" UniqueGroupList

UniqueTaskList --> "~* all" Task
UniqueGroupList --> "~* all" Group
UniquePersonList --> "~* all" Person

ModelManager --->"~* filtered" Person
ModelManager --->"~* filtered" Task
ModelManager --->"~* filtered" Group
@enduml
