@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model <<Rectangle>>{
Class "<<interface>>\nReadOnlyAddressBook" as ReadOnlyAddressBook
Class "<<interface>>\nDisplayItem" as DisplayItem
Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
Class "<<interface>>\nModel" as Model
Class "{{abstract}}\nDisplayItemList" as DisplayItemList<? extend DisplayItem>
Class "{{abstract}}\nAbstractContainerItem" as AbstractContainerItem
' Class AbstractContainerItem

Class AddressBook
Class ModelManager
Class UserPrefs

Class UniquePersonList
Class UniqueTaskList
Class UniqueGroupList

Class Person
Class Task
Class Group
' Class Address
' Class Email
' Class Name
' Class Phone
' Class Tag

}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up.|> ReadOnlyAddressBook

Task ..|> DisplayItem
Person .|> DisplayItem
Group --|> AbstractContainerItem

AbstractContainerItem ..|> DisplayItem
AbstractContainerItem -down-|> DisplayItemList

DisplayItemList *-left-> "*" DisplayItem

UniqueGroupList --|> DisplayItemList
UniqueTaskList --|> DisplayItemList
UniquePersonList --|> DisplayItemList

ModelManager .up.|> Model
ModelManager -right-> "1" AddressBook
Model ..> ReadOnlyUserPrefs
Model ..> ReadOnlyAddressBook
ModelManager --> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

AddressBook *--> "1" UniquePersonList
AddressBook *--> "1" UniqueTaskList
AddressBook *--> "1" UniqueGroupList

UniqueTaskList --> "~* all" Task
UniqueGroupList --> "~* all" Group
UniquePersonList --> "~* all" Person
' Person *--> Name
' Person *--> Phone
' Person *--> Email
' Person *--> Address
' Person *--> "*" Tag

' Name -[hidden]right-> Phone
' Phone -[hidden]right-> Address
' Address -[hidden]right-> Email

ModelManager -->"~* filtered" Person
@enduml
